<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <script
      src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular.js"></script>
  <script
      src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular-route.js"></script>
  <script src="/client/app.js"></script>
</head>
<body ng-app="timezones">
<script type="text/ng-template" id="register.html">
  <form>
    <input type="text" ng-model="user.name" placeholder="Full Name">
    <input type="text" ng-model="user.email" placeholder="Email">
    <input type="text" ng-model="user.login" placeholder="Login">
    <input type="password" ng-model="user.password" placeholder="Password">
    <input type="password" ng-mdoel="user.check_password"
           placeholder="Verify Password">
    <button class="btn" ng-click="register()">Register</button>
  </form>
</script>
<script type="text/ng-template" id="login.html">
  <form>
    <input type="text" ng-model="login_info.login">
    <input type="password" ng-model="login_info.password">
    <button class="btn" ng-click="do_login()">Login</button>
    <a class="btn" href="/register">Register</a>
  </form>
</script>

<script type="text/ng-template" id="timezones.list.html">
  <div ng-include="'header.html'"></div>
  <input type="text" ng-model="query">
  <button ng-click="list()">Search</button>
  <div ng-repeat="tz in timezones">
    <span analog-clock
          time="currentTime|adjustTime:tz.gmt_delta_seconds"></span>
    <span>{{tz.city}}</span>
    <span>{{tz.gmt_delta_seconds}}</span>
    <span>{{currentTime|adjustTime:tz.gmt_delta_seconds|date:'short'}}</span>
    <a href ng-click="remove($index)">Remove</a>
    <a href ng-click="edit($index)">Edit</a>
  </div>
  <button ng-click="create()">New Timezone</button>
</script>

<script type="text/ng-template" id="timezones.edit.html">
  <div ng-include="'header.html'"></div>
  <form>
    <input type="hidden" ng-model="timezone.id">
    <input type="text" ng-model="timezone.city" placeholder="City">
    <input type="number" ng-model="timezone.gmt_delta_seconds">
    <button class="btn" ng-click="save()">Save</button>
  </form>
</script>

<script type="text/ng-template" id="header.html">
  <a ng-controller="auth" ng-click="logout()">Logout</a>
</script>

<div ng-view></div>
</body>

</html>